A survey of more than 20,000 frontline staff by the Royal College of Nursing suggested only a quarter of shifts had the required number on duty.